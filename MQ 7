#define MQ2_PIN 34  // Analog input from MQ-2 sensor

void setup() {
    Serial.begin(115200);
    pinMode(MQ2_PIN, INPUT);
}

float readGasConcentration() {
    int sensorValue = analogRead(MQ2_PIN);  // Read ADC value (0-4095 for ESP32)

    // Convert ADC reading to voltage
    float voltage = sensorValue * (3.3 / 4095.0);  // ESP32 ADC is 12-bit (0-3.3V)

    // Convert voltage to approximate PPM (needs calibration)
    float ppm = (voltage - 0.1) * 1000;  // Adjust based on calibration

    return ppm;
}

void loop() {
    float gasConcentration = readGasConcentration();
    Serial.print("Gas Concentration (PPM): ");
    Serial.println(gasConcentration);

    delay(1000);  // Read every second
}

